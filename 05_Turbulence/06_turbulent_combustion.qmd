# Turbulent Combustion

## Also known as Turbulence-Chemistry-Interaction

- But no one ever says, "TCI", for whatever reason
- In LES, composition (species and temperature) fields are under resolved
- This means gradients are under estimated and hence mixing rates are under estimated
- Another way to say this is, without a subgrid model the scalar dissipation rates would be under estimated
- This means that the rate at which the scalar variance decays would be too slow
- Reaction rates would be too slow and heat release rates would be inaccurate

<div style="text-align: center;">
<div style="font-size: 80%; margin-top: 0.5em;">
$$
\frac{(\overline{\rho} \tilde{Z}_\alpha)}{\partial t} + \frac{\partial (\overline{\rho} \tilde{Z}_\alpha \tilde{u}_j)}{\partial x_j}
= - \frac{\partial J_{\alpha,j}^{sgs}}{\partial x_j}
+ \frac{\partial}{\partial x_j}\left(\overline{\rho} D_\alpha[\tilde{T}] \frac{\partial \tilde{Z}_\alpha}{\partial x_j}\right)
+ \underbrace{\overline{\dot{m}_\alpha'''}}_{\mathrm{mean\;chemical\;source\;term}} + \overline{\dot{m}_{\rm b,\alpha}'''}
$$
</div>
</div>

## Eddy Dissipation Concept (EDC)

::: columns
::: {.column width="60%"}
- The workhorse turbulent combustion model for fire is, technically, the "Eddy Disspation Model" (EDM)
- First proposed by Bjørn Magnussen in 1976
- This is the classic "mixed is burnt" model
- Another way to think of this is that EDM is EDC with infinitely fast chemistry
- The rate of combustion (heat release) is completely determined by availability of fuel and air and the rate of mixing
:::

::: {.column width="40%"}
<div style="text-align: center;">
  <img src="./figs/Magnussen.png" width="60%">
  <div style="font-size: 90%; margin-top: 0.5em;">Prof. Bjørn Magnussen</div>
</div>
:::
:::

## Turbulent Batch Reactor Model

::: columns
::: {.column width="60%"}
- The FDS flavor of EDC is call the "Turbulent Batch Reactor" model
- There are subtle differences between EDC and TBR but they are essentially the same idea
- TBR thinks of a grid cell as a time evolving batch reactor with
  - an initial total mass
  - an initial state of mixing
  - a mixing time scale
  - a set of chemical kinetics (potentially infinitely fast)
:::

::: {.column width="40%"}
<div style="text-align: center;">
  <img src="./figs/transport_vs_mixing_1.png" width="75%">
  <div style="font-size: 90%; margin-top: 0.5em;">subgrid composition</div>
</div>
:::
:::

## Mixing

- Cell mean mass fraction $\tilde{Y}_\alpha(t)$, with $\tilde{Y}_\alpha^0 = \tilde{Y}_\alpha(0)$
- Two mixing states: unmixed and mixed
- Mass fraction in the mixed zone: $\hat{Y}_\alpha(t)$, with $\hat{Y}_\alpha(0) = \tilde{Y}_\alpha^0$
- Unmixed fraction in a cell denoted by $\zeta(t)$, which evolves in time as 

$$
\frac{\mathrm{d}\zeta}{\mathrm{d}t} = -\frac{\zeta}{\tau_{\text{mix}}}\quad \Rightarrow \quad \zeta(t) = \zeta_0 \cdot e^{-t/\tau_{\text{mix}}} \quad \text{and} \quad \zeta_0 = 1
$$

![](./figs/Mixing-Evolution.png){fig-align="center"}

## Evolution of the Chemical Source Term

The composition of the two zones in a cell is given by

$$
\tilde{Y}_\alpha(t) = \zeta(t)\tilde{Y}_\alpha^0 + \left(1 - \zeta(t)\right)\hat{Y}_\alpha(t)
$$

and leads to the following source term for the mass

$$
\dot{m}'''_\alpha = \rho \frac{\mathrm{d}\tilde{Y}_\alpha}{\mathrm{d}t} = \rho \left[ \frac{\zeta}{\tau_{\text{mix}}} \left(\hat{Y}_\alpha - \tilde{Y}_\alpha^0 \right) + (1 - \zeta) \frac{\mathrm{d}\hat{Y}_\alpha}{\mathrm{d}t} \right]
$$

## Mixing Time Scales

$$
\tau_{\text{mix}} = \max\left( \tau_{\text{chem}}, \min(\tau_\text{d}, \tau_\text{u}, \tau_\text{g}, \tau_{\text{flame}}) \right)
$$

:::: {.columns}
::: {.column width="60%"}
![](./figs/Reaction-Time-Scales.png)
:::

::: {.column width="40%"}
$$
\tau_{\mathrm{d}} = \frac{\Delta^2}{D_{\mathrm{F}}}
$$

$$
\tau_{\mathrm{u}} = \frac{C_{\mathrm{u}} \Delta}{\sqrt{(2/3)k_{\mathrm{sgs}}}}
$$

$$
\tau_{\mathrm{d}} = \sqrt{\frac{2\Delta}{g}}
$$
:::
::::

## Exercise -- Turbulent Mixing Time

**Description**: In a simple pool fire, the impact of the turbulent mixing time $\tau_{\text{mix}}$ on the flame height shall be investigated.

:::: {.columns}
::: {.column width="30%"}
![](./exercises/mixing_times/geometry.png){width="50%" fig-align="center"}
:::
::: {.column width="70%"}
$$A_{\text{fire}} = 1\ m \times 1\ m$$

$$\dot{Q}_{\text{max}} = 1512\ kW$$

Heskestad flame height $L_f$ (50% visible flame intermittency)
$$
L_f = 0.235\cdot \dot{Q}^{2/5} - 1.02\cdot D
$$
:::
::::

## Exercise -- Tasks

1. Compute the Heskestad flame height.
1. Use the FDS inputfile ([mixing_times.fds](./exercises/mixing_times/mixing_times.fds)) for the exercise. Adjust the mixing time by setting the `FIXED_MIX_TIME` in the `&COMB` line. 
1. Create a `rundir` directory and according subdirectories.
1. Use the plotting script [plot_flame_height.py](./exercises/mixing_times/plot_flame_height.py) to illustrate the `HRRPUL` values.

## Exercise -- Results

![](./exercises/mixing_times/HRR.png)

## Exercise -- Results

![](./exercises/mixing_times/flame_height.png)